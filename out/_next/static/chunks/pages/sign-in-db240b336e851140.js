(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1312],{29258:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sign-in",function(){return n(11056)}])},11056:function(e,s,n){"use strict";n.r(s),n.d(s,{AuthenticationForm:function(){return S}});var r=n(52676),t=n(75271),i=n(4559),o=n.n(i),a=n(40078),l=n.n(a),c=n(62),d=n(56402),u=n(68975),h=n(94548),m=n(91784),g=n(90324),x=n(16289),f=n(54941),w=n(50482),j=n(55025),p=n(89416),k=n(20313),_=n(15665),y=n(9096),b=n(26503),v=n(45181);function S(e){let{push:s}=(0,c.useRouter)(),n=(0,v.Z)(e=>e.setSession),i=(0,v.Z)(e=>e.isAuthenticated),[o,a]=t.useState(!1),[j,_]=t.useState({name:"",email:"",password:""}),b=async e=>{e.preventDefault(),a(!0);let{data:r,error:t}=await y.O.auth.signInWithPassword({email:j.email,password:j.password});if(t)return a(!1),p.toast.error(t.message);await n(r.session),s("/editor"),a(!1)},S=async e=>{a(!0),await y.O.auth.signInWithOAuth({provider:e,options:{redirectTo:"".concat(window.location.origin,"/editor")}}),a(!1)};return i?(0,r.jsxs)(d.X,{p:"lg",maw:400,style:{textAlign:"center"},children:[(0,r.jsx)(u.x,{fz:"sm",c:"dark",children:"You are already signed in. Click the button below to go to the editor."}),(0,r.jsx)(l(),{href:"/editor",children:(0,r.jsx)(h.z,{mt:"lg",color:"dark",size:"lg",children:"GO TO EDITOR"})})]}):(0,r.jsxs)(d.X,{...e,style:{textAlign:"left"},children:[(0,r.jsx)("form",{onSubmit:b,children:(0,r.jsxs)(m.K,{children:[(0,r.jsx)(g.o,{name:"email",required:!0,label:"Email",placeholder:"hello@jsoncrack.com",value:j.email,onChange:e=>_(s=>({...s,email:e.target.value})),radius:"sm",style:{color:"black"}}),(0,r.jsx)(x.W,{name:"password",required:!0,label:"Password",placeholder:"∗∗∗∗∗∗∗∗∗∗∗",value:j.password,onChange:e=>_(s=>({...s,password:e.target.value})),radius:"sm",style:{color:"black"}}),(0,r.jsx)(h.z,{color:"dark",type:"submit",radius:"sm",loading:o,children:"Sign in"}),(0,r.jsx)(m.K,{gap:"sm",mx:"auto",align:"center",children:(0,r.jsx)(f.e,{component:l(),href:"/forgot-password",c:"dark",size:"xs",children:"Forgot your password?"})})]})}),(0,r.jsx)(w.i,{my:"lg"}),(0,r.jsxs)(m.K,{mb:"md",mt:"md",children:[(0,r.jsx)(h.z,{radius:"sm",leftSection:(0,r.jsx)(k.P_r,{size:"20"}),onClick:()=>S("google"),color:"red",variant:"outline",children:"Sign in with Google"}),(0,r.jsx)(h.z,{radius:"sm",leftSection:(0,r.jsx)(k.idJ,{size:"20"}),onClick:()=>S("github"),color:"dark",variant:"outline",children:"Sign in with GitHub"})]})]})}s.default=()=>{let{isReady:e,push:s,query:n}=(0,c.useRouter)(),i=(0,v.Z)(e=>!!e.user),a=(0,v.Z)(e=>e.setSession),u=(null==n?void 0:n.type)==="recovery"&&!(null==n?void 0:n.error);return(t.useEffect(()=>{if((0,b.c)()){s("/");return}e&&((null==n?void 0:n.access_token)&&(null==n?void 0:n.refresh_token)&&(async()=>{let e=n.refresh_token,s=n.access_token,{data:r,error:t}=await y.O.auth.setSession({refresh_token:e,access_token:s});if(t)return p.toast.error(t.message);r.session&&a(r.session)})(),i&&!u&&s("/editor"))},[e,i,s,u,n,a]),e)?(0,r.jsxs)(_.Z,{children:[(0,r.jsxs)(o(),{children:[(0,r.jsx)("title",{children:"Sign In - JSON Crack"}),(0,r.jsx)("link",{rel:"canonical",href:"https://app.jsoncrack.com/sign-in"})]}),(0,r.jsx)(d.X,{mt:100,mx:"auto",maw:400,p:"lg",withBorder:!0,children:(0,r.jsx)(S,{})}),(0,r.jsx)(j.M,{my:"xl",children:(0,r.jsx)(f.e,{component:l(),href:"/sign-up",c:"gray.5",fw:"bold",children:"Don't have an account?"})})]}):null}},55025:function(e,s,n){"use strict";n.d(s,{M:function(){return d}});var r=n(52676);n(75271);var t=n(80624),i=n(10714),o=n(16975),a=n(62202),l={root:"m_4451eb3a"};let c={},d=(0,a.b)((e,s)=>{let n=(0,t.w)("Center",c,e),{classNames:a,className:d,style:u,styles:h,unstyled:m,vars:g,inline:x,mod:f,...w}=n,j=(0,i.y)({name:"Center",props:n,classes:l,className:d,style:u,classNames:a,styles:h,unstyled:m,vars:g});return(0,r.jsx)(o.x,{ref:s,mod:[{inline:x},f],...j("root"),...w})});d.classes=l,d.displayName="@mantine/core/Center"}},function(e){e.O(0,[3368,4755,9209,6395,9886,3673,1940,8350,2888,9774,179],function(){return e(e.s=29258)}),_N_E=e.O()}]);
//# sourceMappingURL=sign-in-db240b336e851140.js.map