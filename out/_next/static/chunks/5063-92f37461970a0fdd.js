"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5063],{75063:function(e,t,r){r.d(t,{o:function(){return K}});var n=r(52676),o=r(75271),l=r(78462),a=r(97202),s=r(96936),i=r(89416),d=r(20313),c=r(42308),h=r(90324),u=r(68975),g=r(84195),p=r(37635),m=r(41099);let f=e=>document.querySelectorAll(e),v=()=>{document.querySelectorAll("foreignObject.searched, .highlight").forEach(e=>{e.classList.remove("highlight","searched")})},x=(e,t)=>{e.forEach(e=>{var t;let r=null===(t=e.parentElement)||void 0===t?void 0:t.closest("foreignObject");r&&r.classList.add("searched")}),e[t].classList.add("highlight")};var j=r(20738);let w=()=>{let e=(0,j.Z)(e=>e.viewPort),[t,r]=o.useState(0),[n,l]=o.useState(0),[a,s]=o.useState(""),[i]=(0,p.c)(a,600);return o.useEffect(()=>{if(!a){v(),r(0),l(0);return}if(!e||!i)return;let n=f("span[data-key*='".concat(i,"' i]")),o=n[t]||null;v(),o&&o.parentElement?(x(n,t),l(n.length),null==e||e.camera.centerFitElementIntoView(o.parentElement,{elementExtraMarginForZoom:400})):(r(0),l(0)),(0,m.j)("Graph","search")},[t,i,a,e]),[a,s,()=>r(e=>(e+1)%n),n,t]},y=()=>{let[e,t,r,o,l]=w();return(0,n.jsx)(h.o,{type:"search",size:"xs",id:"search-node",w:180,value:e,onChange:e=>t(e.currentTarget.value),placeholder:"Search Node",onKeyDown:(0,g.yr)([["Enter",r]]),leftSection:(0,n.jsx)(d.RB5,{}),rightSection:e&&(0,n.jsx)(a.k,{h:30,align:"center",children:(0,n.jsx)(u.x,{size:"xs",c:"dimmed",pr:"md",children:e&&"".concat(o,"/").concat(o>0?l+1:"0")})})})};var b=r(95395),S=r(67013),I=r(90266),C=r(90795),Z=r(17035),N=r(37882),k=r(92835),E=r(1906);let A=k.ZP.div.withConfig({componentId:"sc-8b5e8356-0"})(["position:relative;display:flex;width:100%;align-items:center;gap:4px;justify-content:space-between;height:40px;padding:4px 8px;background:",";color:",";z-index:36;border-bottom:1px solid ",";@media only screen and (max-width:320px){display:none;}"],e=>{let{theme:t}=e;return t.TOOLBAR_BG},e=>{let{theme:t}=e;return t.SILVER},e=>{let{theme:t}=e;return t.SILVER_DARK}),O=k.ZP.button.withConfig({componentId:"sc-8b5e8356-1"})(["display:",";place-content:center;font-size:12px;background:none;color:",";padding:6px;border-radius:3px;white-space:nowrap;&:hover{background-image:linear-gradient(rgba(0,0,0,0.1) 0 0);}&:hover{color:",";opacity:1;box-shadow:none;}"],e=>{let{$hide:t}=e;return t?"none":"grid"},e=>{let{theme:t}=e;return t.INTERACTIVE_NORMAL},e=>{let{theme:t}=e;return t.INTERACTIVE_HOVER}),F=(0,k.ZP)(E.S$H).withConfig({componentId:"sc-8b5e8356-2"})(["transform:rotate(",");"],e=>{let{rotate:t}=e;return"".concat(t,"deg")}),P=()=>{let e=(0,C.Z)(e=>e.setVisible),t=(0,I.Z)(e=>e.getContents),r=(0,I.Z)(e=>e.getFormat);return(0,n.jsxs)(Z.v,{shadow:"md",withArrow:!0,children:[(0,n.jsx)(Z.v.Target,{children:(0,n.jsx)(O,{title:"File",children:(0,n.jsxs)(a.k,{align:"center",gap:3,children:["File",(0,n.jsx)(N.YgJ,{})]})})}),(0,n.jsxs)(Z.v.Dropdown,{children:[(0,n.jsx)(Z.v.Item,{fz:12,onClick:()=>e("import")(!0),children:"Import"}),(0,n.jsx)(Z.v.Item,{fz:12,onClick:()=>{let e=document.createElement("a"),n=new Blob([t()],{type:"text/plain"});e.href=window.URL.createObjectURL(n),e.download="jsoncrack.".concat(r()),e.click(),(0,m.j)("File Menu","download",r())},children:"Export"})]})]})};var M=r(26503);let z=()=>{let[e,t]=o.useState("");return(o.useEffect(()=>{t((0,M.c)()?window.location.href.replace("widget","editor"):"https://jsoncrack.com")},[]),e)?(0,n.jsx)(O,{title:"JSON Crack",children:(0,n.jsx)(a.k,{gap:"xs",align:"center",justify:"center",children:(0,n.jsx)(S.p,{fontSize:"1.2em",href:e,target:(0,M.c)()?"_blank":"_parent"})})}):null};var T=r(54678),L=r(12260),J=r(21976);let V=()=>{let e=(0,J.Z)(e=>e.toggleGestures),t=(0,J.Z)(e=>e.toggleChildrenCount),r=(0,J.Z)(e=>e.toggleDarkMode),o=(0,J.Z)(e=>e.toggleRulers),l=(0,J.Z)(e=>e.toggleCollapseButton),s=(0,J.Z)(e=>e.toggleImagePreview),i=(0,J.Z)(e=>e.gesturesEnabled),d=(0,J.Z)(e=>e.childrenCountVisible),c=(0,J.Z)(e=>e.darkmodeEnabled),h=(0,J.Z)(e=>e.rulersEnabled),g=(0,J.Z)(e=>e.collapseButtonVisible),p=(0,J.Z)(e=>e.imagePreviewEnabled);return(0,n.jsxs)(Z.v,{shadow:"md",trigger:"click",closeOnItemClick:!1,withArrow:!0,children:[(0,n.jsx)(Z.v.Target,{children:(0,n.jsx)(O,{children:(0,n.jsx)(a.k,{gap:4,children:(0,n.jsx)(L.b9P,{size:"18"})})})}),(0,n.jsxs)(Z.v.Dropdown,{children:[(0,n.jsx)(Z.v.Item,{leftSection:(0,n.jsx)(T.IPg,{opacity:h?100:0}),onClick:()=>{o(!h),(0,m.j)("Options Menu","toggle rulers",h?"on":"off")},children:(0,n.jsx)(u.x,{size:"xs",children:"Rulers"})}),(0,n.jsx)(Z.v.Item,{leftSection:(0,n.jsx)(T.IPg,{opacity:i?100:0}),onClick:()=>{e(!i),(0,m.j)("Options Menu","toggle gestures",i?"on":"off")},children:(0,n.jsx)(u.x,{size:"xs",children:"Trackpad Gestures"})}),(0,n.jsx)(Z.v.Item,{leftSection:(0,n.jsx)(T.IPg,{opacity:d?100:0}),onClick:()=>{t(!d),(0,m.j)("Options Menu","toggle children count",d?"on":"off")},children:(0,n.jsx)(u.x,{size:"xs",children:"Item Count"})}),(0,n.jsx)(Z.v.Item,{leftSection:(0,n.jsx)(T.IPg,{opacity:p?100:0}),onClick:()=>{s(!p),(0,m.j)("Options Menu","toggle image preview",p?"on":"off")},children:(0,n.jsx)(u.x,{size:"xs",children:"Image Link Preview"})}),(0,n.jsx)(Z.v.Item,{leftSection:(0,n.jsx)(T.IPg,{opacity:g?100:0}),onClick:()=>{l(!g),(0,m.j)("Options Menu","toggle collapse button",g?"on":"off")},children:(0,n.jsx)(u.x,{size:"xs",children:"Show Expand/Collapse"})}),(0,n.jsx)(Z.v.Item,{leftSection:(0,n.jsx)(T.IPg,{opacity:c?100:0}),onClick:()=>{r(!c),(0,m.j)("Options Menu","toggle dark mode",c?"on":"off")},children:(0,n.jsx)(u.x,{size:"xs",children:"Dark Mode"})})]})]})};var R=r(88266),G=r(4345);let D=()=>{let e=(0,C.Z)(e=>e.setVisible);return(0,n.jsxs)(Z.v,{shadow:"md",withArrow:!0,children:[(0,n.jsx)(Z.v.Target,{children:(0,n.jsx)(O,{onClick:()=>(0,m.j)("Tools Menu","toggle menu"),children:(0,n.jsxs)(a.k,{align:"center",gap:3,children:["Tools ",(0,n.jsx)(N.YgJ,{})]})})}),(0,n.jsxs)(Z.v.Dropdown,{children:[(0,n.jsx)(Z.v.Item,{fz:12,leftSection:(0,n.jsx)(G.lFM,{}),onClick:()=>{e("jq")(!0),(0,m.j)("Tools Menu","open","JSON Query")},children:"JSON Query (jq)"}),(0,n.jsx)(Z.v.Item,{fz:12,leftSection:(0,n.jsx)(G.gkd,{}),onClick:()=>{e("schema")(!0),(0,m.j)("Tools Menu","open","JSON Schema")},children:"JSON Schema"}),(0,n.jsx)(Z.v.Item,{fz:12,leftSection:(0,n.jsx)(R.HIx,{}),onClick:()=>{e("jwt")(!0),(0,m.j)("Tools Menu","open","Decode JWT")},children:"Decode JWT"}),(0,n.jsx)(Z.v.Item,{fz:12,leftSection:(0,n.jsx)(G.Coj,{}),onClick:()=>{e("type")(!0),(0,m.j)("Tools Menu","open","Generate Type")},children:"Generate Type"})]})]})};var H=r(66554),q=r(37474),_=r(68840),U=r(663);let Y=()=>{var e;let{validateHiddenNodes:t}=(0,U.Z)(),[r,l]=o.useState("CTRL"),s=(0,j.Z)(e=>e.setDirection),d=(0,j.Z)(e=>e.direction),c=(0,j.Z)(e=>e.expandGraph),h=(0,j.Z)(e=>e.collapseGraph),g=(0,j.Z)(e=>e.focusFirstNode),p=(0,j.Z)(e=>e.graphCollapsed),f=(0,J.Z)(e=>e.viewMode),v=(0,J.Z)(e=>e.setViewMode),x=()=>{var e;let t="RIGHT"===(e=d||"RIGHT")?"DOWN":"DOWN"===e?"LEFT":"LEFT"===e?"UP":"RIGHT";s&&s(t)},w=()=>{p?c():h(),t(),(0,i.default)("".concat(p?"Expanded":"Collapsed"," graph."))};return(0,q.A)([["mod+shift+d",x],["mod+shift+c",w],["mod+f",()=>{document.querySelector("#search-node").focus()}]]),o.useEffect(()=>{l(navigator.userAgent.indexOf("Mac OS X")?"⌘":"CTRL")},[]),(0,n.jsxs)(Z.v,{shadow:"md",closeOnItemClick:!1,withArrow:!0,children:[(0,n.jsx)(Z.v.Target,{children:(0,n.jsx)(O,{onClick:()=>(0,m.j)("View Menu","open menu"),children:(0,n.jsxs)(a.k,{align:"center",gap:3,children:["View ",(0,n.jsx)(N.YgJ,{})]})})}),(0,n.jsxs)(Z.v.Dropdown,{children:[(0,n.jsx)(H.s,{miw:205,size:"xs",value:f,onChange:e=>{v(e),(0,m.j)("View Menu","change view mode",e)},data:[{value:_.w.Graph,label:"Graph"},{value:_.w.Tree,label:"Tree"}],fullWidth:!0}),f===_.w.Graph&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Z.v.Item,{mt:"xs",fz:12,onClick:()=>{x(),(0,m.j)("View Menu","rotate layout")},leftSection:(0,n.jsx)(F,{rotate:"LEFT"===(e=d||"RIGHT")?90:"UP"===e?180:"RIGHT"===e?270:360}),rightSection:(0,n.jsxs)(u.x,{ml:"md",fz:10,c:"dimmed",children:[r," Shift D"]}),children:"Rotate Layout"}),(0,n.jsxs)(Z.v.Item,{fz:12,onClick:()=>{w(),(0,m.j)("View Menu","expand collapse graph")},leftSection:p?(0,n.jsx)(G.rIY,{}):(0,n.jsx)(G.NsE,{}),rightSection:(0,n.jsxs)(u.x,{ml:"md",fz:10,c:"dimmed",children:[r," Shift C"]}),children:[p?"Expand":"Collapse"," Graph"]}),(0,n.jsx)(Z.v.Item,{fz:12,onClick:g,leftSection:(0,n.jsx)(G.XrG,{}),children:"Focus to First Node"})]})]})]})};var B=r(16642);let W=()=>{let e=(0,j.Z)(e=>e.zoomIn),t=(0,j.Z)(e=>e.zoomOut),r=(0,j.Z)(e=>e.centerView),l=(0,j.Z)(e=>e.setZoomFactor),s=(0,j.Z)(e=>{var t;return(null===(t=e.viewPort)||void 0===t?void 0:t.zoomFactor)||1}),[i,d]=o.useState(s);return o.useEffect(()=>{Number.isNaN(s)||d(s)},[s]),(0,q.A)([["shift+Digit0",()=>l(1)],["shift+Digit1",r]]),(0,n.jsxs)(Z.v,{shadow:"md",trigger:"click",closeOnItemClick:!1,withArrow:!0,children:[(0,n.jsx)(Z.v.Target,{children:(0,n.jsx)(O,{onClick:()=>(0,m.j)("Zoom Menu","open menu"),children:(0,n.jsxs)(a.k,{gap:4,align:"center",children:[Math.round(100*s),"%",(0,n.jsx)(N.YgJ,{})]})})}),(0,n.jsxs)(Z.v.Dropdown,{children:[(0,n.jsx)(Z.v.Item,{children:(0,n.jsx)(B.I,{type:"number",value:Math.round(100*i),onChange:e=>d(e.currentTarget.valueAsNumber/100),onKeyDown:(0,g.yr)([["Enter",()=>l(i)]]),size:"xs",rightSection:"%"})}),(0,n.jsx)(Z.v.Item,{rightSection:"+",onClick:()=>{e(),(0,m.j)("Zoom Menu","zoom in")},children:(0,n.jsx)(u.x,{size:"xs",children:"Zoom in"})}),(0,n.jsx)(Z.v.Item,{rightSection:"-",onClick:()=>{t(),(0,m.j)("Zoom Menu","zoom out")},children:(0,n.jsx)(u.x,{size:"xs",children:"Zoom out"})}),(0,n.jsx)(Z.v.Item,{rightSection:"⇧ 1",onClick:()=>{r(),(0,m.j)("Zoom Menu","center view")},children:(0,n.jsx)(u.x,{size:"xs",children:"Zoom to fit"})}),(0,n.jsx)(Z.v.Item,{onClick:()=>{l(.5),(0,m.j)("Zoom Menu","zoom to 50%")},children:(0,n.jsx)(u.x,{size:"xs",children:"Zoom to %50"})}),(0,n.jsx)(Z.v.Item,{rightSection:"⇧ 0",onClick:()=>{l(1),(0,m.j)("Zoom Menu","zoom to 100%")},children:(0,n.jsx)(u.x,{size:"xs",children:"Zoom to %100"})}),(0,n.jsx)(Z.v.Item,{onClick:()=>{l(2),(0,m.j)("Zoom Menu","zoom to 200%")},children:(0,n.jsx)(u.x,{size:"xs",children:"Zoom to %200"})})]})]})};function X(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen().catch(()=>{i.default.error("Unable to enter fullscreen mode.")})}let K=e=>{let{isWidget:t=!1}=e,r=(0,C.Z)(e=>e.setVisible),o=(0,I.Z)(e=>e.setFormat),i=(0,I.Z)(e=>e.format);return(0,n.jsxs)(A,{children:[t&&(0,n.jsx)(z,{}),!t&&(0,n.jsxs)(l.Z,{gap:"xs",justify:"left",w:"100%",style:{flexWrap:"nowrap"},children:[(0,n.jsx)(O,{title:"JSON Crack",children:(0,n.jsx)(a.k,{gap:"xs",align:"center",justify:"center",children:(0,n.jsx)(S.p,{fontSize:"1.2em"})})}),(0,n.jsx)(s.P,{defaultValue:"json",size:"xs",value:i,onChange:e=>o(e),miw:80,w:120,data:[{value:b.d.JSON,label:"JSON"},{value:b.d.YAML,label:"YAML"},{value:b.d.XML,label:"XML"},{value:b.d.TOML,label:"TOML"},{value:b.d.CSV,label:"CSV"}],allowDeselect:!1}),(0,n.jsx)(P,{}),(0,n.jsx)(Y,{}),(0,n.jsx)(D,{})]}),(0,n.jsxs)(l.Z,{gap:"xs",justify:"right",w:"100%",style:{flexWrap:"nowrap"},children:[(0,n.jsx)(y,{}),!t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(O,{title:"Save as Image",onClick:()=>r("download")(!0),children:(0,n.jsx)(c._hL,{size:"18"})}),(0,n.jsx)(W,{}),(0,n.jsx)(V,{}),(0,n.jsx)(O,{title:"Fullscreen",$hide:t,onClick:X,children:(0,n.jsx)(d.vju,{size:"18"})})]})]})]})}},95395:function(e,t,r){var n,o;r.d(t,{d:function(){return n}}),(o=n||(n={})).JSON="json",o.YAML="yaml",o.XML="xml",o.TOML="toml",o.CSV="csv"},68840:function(e,t,r){var n,o;r.d(t,{w:function(){return n}}),(o=n||(n={})).Graph="graph",o.Tree="tree"},663:function(e,t,r){var n=r(75271),o=r(20738);function l(e,t){let r=e.map(e=>'[id$="node-'.concat(e,'"]')),n=t.map(e=>'[class$="edge-'.concat(e,'"]'));document.body.querySelectorAll(".hide").forEach(e=>e.classList.remove("hide")),r.length&&document.body.querySelectorAll(r.join(",")).forEach(e=>e.classList.add("hide")),n.length&&document.body.querySelectorAll(n.join(",")).forEach(e=>e.classList.add("hide"))}t.Z=()=>{let e=(0,o.Z)(e=>e.getCollapsedNodeIds),t=(0,o.Z)(e=>e.getCollapsedEdgeIds);return n.useEffect(()=>{l(e(),t())},[t,e]),{validateHiddenNodes:()=>l(e(),t())}}},67013:function(e,t,r){r.d(t,{p:function(){return u}});var n=r(52676),o=r(42828),l=r.n(o),a=r(75271),s=r(40078),i=r.n(s),d=r(92835),c=r(26503);let h=d.ZP.div.withConfig({componentId:"sc-a4ed58f0-0"})(["font-weight:800;margin:0;font-family:",";font-size:",";white-space:nowrap;z-index:10;color:",";vertical-align:middle;"],l().style.fontFamily,e=>{let{fontSize:t}=e;return t},e=>{let{theme:t}=e;return t.INTERACTIVE_HOVER}),u=e=>{let{fontSize:t="1.2rem",...r}=e,o=a.useMemo(()=>(0,c.c)()?"JC":"JSON CRACK",[]);return(0,n.jsx)(h,{as:i(),fontSize:t,href:"/",prefetch:!1,...r,children:o})}},26503:function(e,t,r){r.d(t,{c:function(){return n}});function n(){try{return window.self!==window.top}catch(e){return!0}}},702:function(e,t,r){r.d(t,{C:function(){return o},S:function(){return i}});var n=r(21976);let o=e=>{if("string"!=typeof e)return!1;let t=/(https?:\/\/.*\.(?:png|jpg|gif))/i.test(e),r=e.startsWith("data:image/")&&e.includes("base64");return t||r},l=e=>"string"==typeof e?e:e.map(e=>{let[t,r]=e;return"".concat(t,": ").concat(JSON.stringify(r).slice(0,80))}).join("\n"),a=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return{width:45,height:45};let r=document.createElement("div");r.style.whiteSpace=t?"nowrap":"pre-wrap",r.innerHTML=e,r.style.fontSize="12px",r.style.width="fit-content",r.style.height="fit-content",r.style.padding="10px",r.style.fontWeight="500",r.style.overflowWrap="break-word",r.style.fontFamily="monospace",document.body.appendChild(r);let n=r.getBoundingClientRect(),o=n.width+4,l=n.height;return document.body.removeChild(r),{width:o,height:l}},s=new Map;setInterval(()=>s.clear(),12e4);let i=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{imagePreviewEnabled:r}=n.Z.getState(),i=o(e)&&r,d=[e,t].toString();if(s.has(d)){let e=s.get(d);if(e)return e}let c=a(l(e),"string"==typeof e);return i&&(c.width=80,c.height=80),t&&(c.width+=100),c.width>700&&(c.width=700),s.set(d,c),c}},20738:function(e,t,r){r.d(t,{Z:function(){return m}});var n=r(56476),o=r(89602);let l=(e,t,r)=>{let n={id:"e".concat(t,"-").concat(r),from:t,to:r};e.edges.push(n)};var a=r(702);let s=e=>{let{graph:t,text:r,type:n="null",isEmpty:o=!1}=e,l=String(t.nodes.length+1),s="array"===n||"object"===n,{width:i,height:d}=(0,a.S)(r,s);return t.nodes.push({id:l,text:r,width:i,height:d,data:{type:n,isParent:s,isEmpty:o,childrenCount:s?1:0}}),l},i=e=>["boolean","string","number","null"].includes(e),d=(e,t)=>{var r,n,o,l;let a=null==e?void 0:null===(n=e.children)||void 0===n?void 0:null===(r=n[1])||void 0===r?void 0:r.type,s=null==t?void 0:null===(l=t.children)||void 0===l?void 0:null===(o=l[1])||void 0===o?void 0:o.type;return i(a)&&!i(s)?-1:0},c=e=>{let{objectToTraverse:t,states:r,myParentId:n,nextType:o,parentType:i}=e,h=r.graph,{type:u,children:g,value:p}=t;g?g&&function(e,t,r,n,o,i){let h;if("property"!==e&&""!==t.parentName){var u;if(t.brothersNode.length>0){let e=t.brothersNodeProps.find(e=>e.parentId===t.brothersParentId&&e.objectsFromArrayId===t.objectsFromArray[t.objectsFromArray.length-1]);if(e){let n=r.nodes.findIndex(t=>t.id===(null==e?void 0:e.id));if(-1!==n){let e=[...r.nodes],o=e[n];o.text=o.text.concat(t.brothersNode);let{width:l,height:s}=(0,a.S)(o.text,!1);o.width=l,o.height=s,r.nodes=e,t.brothersNode=[]}}else{let e=s({graph:r,text:t.brothersNode});t.brothersNode=[],t.brothersParentId?l(r,t.brothersParentId,e):t.notHaveParent.push(e),t.brothersNodeProps.push({id:e,parentId:t.brothersParentId,objectsFromArrayId:t.objectsFromArray[t.objectsFromArray.length-1]})}}h=s({graph:r,type:e,text:t.parentName}),t.bracketOpen.push({id:h,type:e}),t.parentName="";let n=t.brothersNodeProps.filter(e=>e.parentId===o&&e.objectsFromArrayId===t.objectsFromArray[t.objectsFromArray.length-1]);n.length>0&&(null===(u=t.bracketOpen[t.bracketOpen.length-2])||void 0===u?void 0:u.type)!=="object"||n.length>0&&1===t.bracketOpen.length?l(r,n[n.length-1].id,h):o?l(r,o,h):t.notHaveParent.push(h)}else"array"===i&&(t.objectsFromArray=[...t.objectsFromArray,t.objectsFromArrayId++]);let g=(r,n)=>{var o;c({states:t,objectToTraverse:r,parentType:e,myParentId:null===(o=t.bracketOpen[t.bracketOpen.length-1])||void 0===o?void 0:o.id,nextType:n})};if("object"===e&&n.sort(d),n.forEach((e,t,r)=>{var n;g(e,null===(n=r[t+1])||void 0===n?void 0:n.type)}),"property"!==e){if(t.brothersNode.length>0){let e=t.brothersNodeProps.find(e=>e.parentId===t.brothersParentId&&e.objectsFromArrayId===t.objectsFromArray[t.objectsFromArray.length-1]);if(e){let n=[...r.nodes],o=n.findIndex(t=>t.id===(null==e?void 0:e.id));if(n[o]&&"string"==typeof t.brothersNode){n[o].text+=t.brothersNode;let{width:e,height:l}=(0,a.S)(n[o].text,!1);n[o].width=e,n[o].height=l,r.nodes=n,t.brothersNode=[]}}else{let e=s({graph:r,text:t.brothersNode});t.brothersNode=[],t.brothersParentId?l(r,t.brothersParentId,e):t.notHaveParent=[...t.notHaveParent,e];let n={id:e,parentId:t.brothersParentId,objectsFromArrayId:t.objectsFromArray[t.objectsFromArray.length-1]};t.brothersNodeProps=[...t.brothersNodeProps,n]}}if("array"===i?t.objectsFromArray.length>0&&t.objectsFromArray.pop():t.bracketOpen.length>0&&t.bracketOpen.pop(),h){let e=r.edges.filter(e=>e.from===h),t=r.nodes.findIndex(e=>e.id===h);r.nodes=r.nodes.map((r,n)=>{if(n===t){let t=e.length;return{...r,data:{...r.data,childrenCount:t}}}return r})}}}(u,r,h,g,n,i):function(e,t,r,n,o,a){if(void 0!==e){if("property"===o&&"object"!==a&&"array"!==a)t.brothersParentId=n,void 0===a&&Array.isArray(t.brothersNode)?t.brothersNode.push([t.brotherKey,e]):t.brotherKey=e;else if("array"===o){let t=s({graph:r,text:String(e)});n&&l(r,n,t)}a&&"array"!==o&&("object"===a||"array"===a)&&(t.parentName=e)}}(p,r,h,n,i,o)},h=(e,t)=>{let r=e.map(e=>e.id);return t.filter(e=>r.includes(e.from)||r.includes(e.to))},u=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=[],l=[];if(n.includes(e)){let r=t.find(t=>t.id===e);r&&o.push(r)}let a=e=>{let s=r.filter(t=>t.from===e).map(e=>e.to),i=t.filter(e=>(n.includes(e.id)&&!l.includes(e.id)&&l.push(e.id),s.includes(e.id)&&!n.includes(e.id)));o.push(...i),i.forEach(e=>a(e.id))};return a(e),[o,l]};var g=r(56222);let p={viewPort:null,direction:"RIGHT",loading:!0,graphCollapsed:!1,fullscreen:!1,collapseAll:!1,nodes:[],edges:[],collapsedNodes:[],collapsedEdges:[],collapsedParents:[],selectedNode:null,path:""};var m=(0,n.Ue)((e,t)=>({...p,toggleCollapseAll:r=>{e({collapseAll:r}),t().collapseGraph()},clearGraph:()=>e({nodes:[],edges:[],loading:!1}),getCollapsedNodeIds:()=>t().collapsedNodes,getCollapsedEdgeIds:()=>t().collapsedEdges,setSelectedNode:t=>e({selectedNode:t}),setGraph:(n,a)=>{let{nodes:i,edges:d}=function(e){try{let t={parentName:"",bracketOpen:[],objectsFromArray:[],objectsFromArrayId:0,notHaveParent:[],brothersNode:[],brothersParentId:void 0,brotherKey:"",brothersNodeProps:[],graph:{nodes:[],edges:[]}},n=(0,o.jv)(e);if(!n)throw Error("Invalid document");c({states:t,objectToTraverse:n});let{notHaveParent:a,graph:i}=t;if(a.length>1&&"array"!==n.type){let e=s({graph:i,id:null,text:"",isEmpty:!0,data:{}});a.forEach(t=>l(i,e,t))}return 0===t.graph.nodes.length&&("array"===n.type?s({graph:t.graph,text:"[]"}):s({graph:t.graph,text:"{}"})),t.graph.nodes=t.graph.nodes.map(e=>({...e,path:function(e,t,n){let{getParentsForNodeId:o}=r(98994),l="",a=o(e,t,n).map(e=>e.id).reverse().concat(n),s=["1"],i=new Map;for(let e of t)i.has(e.from)||i.set(e.from,[]),i.get(e.from).push(e.to);for(let e=1;e<t.length;e++){let r=t[e].from;s.includes(r)||i.has(r)||s.push(r)}s.length>1?l+="Root[".concat(s.findIndex(e=>e===a[0]),"]"):l+="{Root}";for(let t=1;t<a.length;t++){var d,c;let r=a[t],n=e[+r-1];if(!n)break;if((null===(d=n.data)||void 0===d?void 0:d.type)==="array"&&(l+=".".concat(n.text),t!==a.length-1)){let e=a[t+1],n=i.get(r).indexOf(e);l+="[".concat(n,"]")}(null===(c=n.data)||void 0===c?void 0:c.type)==="object"&&(l+=".".concat(n.text))}return l}(t.graph.nodes,t.graph.edges,e.id)})),t.graph}catch(e){return console.error(e),{nodes:[],edges:[]}}}(null!=n?n:g.Z.getState().json);t().collapseAll?(e({nodes:i,edges:d,...a}),t().collapseGraph()):e({nodes:i,edges:d,collapsedParents:[],collapsedNodes:[],collapsedEdges:[],graphCollapsed:!1,...a})},setDirection:function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"RIGHT";e({direction:r}),setTimeout(()=>t().centerView(),200)},setLoading:t=>e({loading:t}),expandNodes:r=>{let[n,o]=u(r,t().nodes,t().edges,t().collapsedParents),l=h(n,t().edges),a=l.reduce((e,t)=>(t.from&&!e.includes(t.from)&&e.push(t.from),t.to&&!e.includes(t.to)&&e.push(t.to),e),[]),s=o.filter(e=>a.includes(e)),i=n.map(e=>e.id).concat(s),d=l.map(e=>e.id),c=t().collapsedParents.filter(e=>e!==r),g=t().collapsedNodes.filter(e=>!i.includes(e));e({collapsedParents:c,collapsedNodes:g,collapsedEdges:t().collapsedEdges.filter(e=>!d.includes(e)),graphCollapsed:!!g.length})},collapseNodes:r=>{let[n]=u(r,t().nodes,t().edges),o=h(n,t().edges),l=n.map(e=>e.id),a=o.map(e=>e.id);e({collapsedParents:t().collapsedParents.concat(r),collapsedNodes:t().collapsedNodes.concat(l),collapsedEdges:t().collapsedEdges.concat(a),graphCollapsed:!!t().collapsedNodes.concat(l).length})},collapseGraph:()=>{let r=t().edges,n=r.map(e=>e.to),o=r.map(e=>e.from).filter(e=>!n.includes(e)),l=r.filter(e=>o.includes(e.from)).map(e=>e.to),a=t().nodes.filter(e=>{var t;return!o.includes(e.id)&&(null===(t=e.data)||void 0===t?void 0:t.isParent)}).map(e=>e.id),s=t().nodes.filter(e=>!o.includes(e.id)&&!l.includes(e.id)).map(e=>e.id),i=Math.min(...a.map(e=>+e)),d=document.querySelector("g[id*='node-".concat(i,"']"));if(e({collapsedParents:a,collapsedNodes:s,collapsedEdges:t().edges.filter(e=>!o.includes(e.from)).map(e=>e.id),graphCollapsed:!0}),d){var c,h;null===(h=t().viewPort)||void 0===h||null===(c=h.camera)||void 0===c||c.centerFitElementIntoView(d,{elementExtraMarginForZoom:300})}},expandGraph:()=>{e({collapsedNodes:[],collapsedEdges:[],collapsedParents:[],graphCollapsed:!1})},focusFirstNode:()=>{var e,r;let n=document.querySelector("g[id*='node-1']");null===(r=t().viewPort)||void 0===r||null===(e=r.camera)||void 0===e||e.centerFitElementIntoView(n,{elementExtraMarginForZoom:100})},setZoomFactor:e=>{var r;let n=t().viewPort;null==n||null===(r=n.camera)||void 0===r||r.recenter(n.centerX,n.centerY,e)},zoomIn:()=>{var e;let r=t().viewPort;null==r||null===(e=r.camera)||void 0===e||e.recenter(r.centerX,r.centerY,r.zoomFactor+.1)},zoomOut:()=>{var e;let r=t().viewPort;null==r||null===(e=r.camera)||void 0===e||e.recenter(r.centerX,r.centerY,r.zoomFactor-.1)},centerView:()=>{let e=t().viewPort;null==e||e.updateContainerSize();let r=document.querySelector(".jsoncrack-canvas");if(r){var n;null==e||null===(n=e.camera)||void 0===n||n.centerFitElementIntoView(r)}},toggleFullscreen:t=>e({fullscreen:t}),setViewPort:t=>e({viewPort:t})}))},49223:function(e,t,r){r.d(t,{F:function(){return s}});var n=r(89416),o=r(95395),l=r(9096),a=r(45181);let s={upsert:async e=>{let{id:t="",contents:r,format:n=o.d.JSON}=e;return await l.O.rpc("upsert_document",{p_content:r,p_format:n,p_id:t})},getById:async e=>await l.O.rpc("get_document_by_id",{doc_id:e}),getAll:async e=>{var t;let r=null===(t=a.Z.getState().user)||void 0===t?void 0:t.email;if(!r)return[];let{data:o,error:s}=await l.O.from("document").select().eq("owner_email",r).ilike("name","%".concat(e,"%")).order("created_at",{ascending:!1});return s?(n.default.error(s.message),[]):o},update:async(e,t)=>await l.O.from("document").update(t).eq("id",e).select("private"),delete:async e=>await l.O.from("document").delete().eq("id",e)}},21976:function(e,t,r){var n=r(56476),o=r(65723),l=r(68840),a=r(20738);let s={darkmodeEnabled:!1,collapseButtonVisible:!0,childrenCountVisible:!0,imagePreviewEnabled:!0,liveTransformEnabled:!0,gesturesEnabled:!1,rulersEnabled:!0,viewMode:l.w.Graph},i=(0,n.Ue)((0,o.tJ)(e=>({...s,toggleRulers:t=>e({rulersEnabled:t}),toggleGestures:t=>e({gesturesEnabled:t}),toggleLiveTransform:t=>e({liveTransformEnabled:t}),toggleDarkMode:t=>e({darkmodeEnabled:t}),toggleCollapseButton:t=>e({collapseButtonVisible:t}),toggleChildrenCount:t=>e({childrenCountVisible:t}),toggleImagePreview:t=>{e({imagePreviewEnabled:t}),a.Z.getState().setGraph()},setViewMode:t=>e({viewMode:t})}),{name:"config"}));t.Z=i},90266:function(e,t,r){r.d(t,{Z:function(){return w}});var n=r(86763),o=r.n(n),l=r(89416),a=r(56476);let s=JSON.stringify(Object.freeze({squadName:"Super hero squad",homeTown:"Metro City",formed:2016,secretBase:"Super tower",active:!0,members:[{name:"Molecule Man",age:29,secretIdentity:"Dan Jukes",powers:["Radiation resistance","Turning tiny","Radiation blast"]},{name:"Madame Uppercut",age:39,secretIdentity:"Jane Wilson",powers:["Million tonne punch","Damage resistance","Superhuman reflexes"]},{name:"Eternal Flame",age:1e6,secretIdentity:"Unknown",powers:["Immortality","Heat Immunity","Inferno","Teleportation","Interdimensional travel"]}]}),null,2);var i=r(95395);let d=(e,t)=>{if(e&&("object"==typeof e||Array.isArray(e))){if(e.hasOwnProperty(t))return e[t];if(Array.isArray(e))for(let r=0;r<e.length;r++){let n=d(e[r],t);if(n)return n}else for(let r in e){let n=d(e[r],t);if(n)return n}}return!1},c=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.d.JSON;try{let{load:n}=await r.e(487).then(r.bind(r,80487)),{csv2json:o}=await r.e(2017).then(r.bind(r,52017)),{parse:l}=await Promise.resolve().then(r.bind(r,89602)),a=await r.e(9595).then(r.t.bind(r,29595,23)),s=await r.e(3859).then(r.t.bind(r,33859,23)),c={};if(t===i.d.JSON&&(c=l(e)),t===i.d.YAML&&(c=n(e)),t===i.d.XML&&(c=a.stringToJs(e)),t===i.d.TOML&&(c=s.parse(e)),t===i.d.CSV&&(c=await o(e)),t===i.d.XML&&d(c,"parsererror"))throw Error("Unknown error!");if(!c)throw Error("Invalid JSON!");return Promise.resolve(c)}catch(e){throw e}},h=async(e,t)=>{try{let{dump:n}=await r.e(487).then(r.bind(r,80487)),{json2csv:o}=await r.e(2017).then(r.bind(r,52017)),{parse:l}=await Promise.resolve().then(r.bind(r,89602)),a=e;if(!e)return e;return t===i.d.JSON&&(a=e),t===i.d.YAML&&(a=n(l(e))),t===i.d.XML&&(a=n(l(e))),t===i.d.TOML&&(a=n(l(e))),t===i.d.CSV&&(a=await o(l(e))),Promise.resolve(a)}catch(e){throw e}};var u=r(26503),g=r(49223),p=r(20738),m=r(21976),f=r(56222);let v={fileData:null,format:i.d.JSON,contents:s,error:null,hasChanges:!1,jsonSchema:null},x=e=>/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/gi.test(e),j=o()(e=>{p.Z.getState().setLoading(!0),f.Z.getState().setJson(JSON.stringify(e,null,2))},800);var w=(0,a.Ue)()((e,t)=>({...v,clear:()=>{e({contents:""}),f.Z.getState().clear()},setJsonSchema:t=>e({jsonSchema:t}),setFile:r=>{e({fileData:r,format:r.format||i.d.JSON}),t().setContents({contents:r.content,hasChanges:!1})},getContents:()=>t().contents,getFormat:()=>t().format,getHasChanges:()=>t().hasChanges,setFormat:async r=>{try{let n=t().format;e({format:r});let o=await c(t().contents,n),l=await h(JSON.stringify(o,null,2),r);t().setContents({contents:l})}catch(e){t().clear(),console.warn("The content was unable to be converted, so it was cleared instead.")}},setContents:async r=>{let{contents:n,hasChanges:o=!0,skipUpdate:l=!1}=r;try{e({...n&&{contents:n},error:null,hasChanges:o});let r=window.location.href.includes("?"),a=await c(t().contents,t().format);if(!m.Z.getState().liveTransformEnabled&&l)return;t().hasChanges&&n&&n.length<8e4&&!(0,u.c)()&&!r&&(sessionStorage.setItem("content",n),sessionStorage.setItem("format",t().format),e({hasChanges:!0})),j(a)}catch(t){var a;if(null==t?void 0:null===(a=t.mark)||void 0===a?void 0:a.snippet)return e({error:t.mark.snippet});(null==t?void 0:t.message)&&e({error:t.message}),f.Z.setState({loading:!1}),p.Z.setState({loading:!1})}},setError:t=>e({error:t}),setHasChanges:t=>e({hasChanges:t}),fetchUrl:async e=>{try{let r=await fetch(e),n=await r.json(),o=JSON.stringify(n,null,2);return t().setContents({contents:o}),f.Z.setState({json:o,loading:!1})}catch(e){t().clear(),l.toast.error("Failed to fetch document from URL!")}},checkEditorSession:(r,n)=>{if(r&&"string"==typeof r)return x(r)?t().fetchUrl(r):t().fetchFile(r);let o=s,l=sessionStorage.getItem("content"),a=sessionStorage.getItem("format");l&&!n&&(o=l),a&&e({format:a}),t().setContents({contents:o,hasChanges:!1})},fetchFile:async e=>{try{let{data:r,error:n}=await g.F.getById(e);if(n)throw n;if((null==r?void 0:r.length)&&t().setFile(r[0]),(null==r?void 0:r.length)===0)throw Error("Document not found")}catch(e){(null==e?void 0:e.message)&&l.toast.error(null==e?void 0:e.message),t().setContents({contents:s,hasChanges:!1})}}}))},56222:function(e,t,r){var n=r(56476),o=r(20738);let l={json:"",loading:!0},a=(0,n.Ue)()((e,t)=>({...l,getJson:()=>t().json,setJson:t=>{e({json:t,loading:!1}),o.Z.getState().setGraph(t)},clear:()=>{e({json:"",loading:!1}),o.Z.getState().clearGraph()}}));t.Z=a},90795:function(e,t,r){var n=r(56476),o=r(45181);let l={clear:!1,cloud:!1,download:!1,import:!1,account:!1,node:!1,share:!1,login:!1,upgrade:!1,jwt:!1,schema:!1,review:!1,jq:!1,type:!1},a=["cloud","account"],s=(0,n.Ue)()(e=>({...l,setVisible:t=>r=>{let n=o.Z.getState();if(a.includes(t)&&!n.isAuthenticated)return e({login:!0});e({[t]:r})}}));t.Z=s}}]);
//# sourceMappingURL=5063-92f37461970a0fdd.js.map